<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç•œæ˜Ÿã‚¤ãƒ³ã‚¿ãƒ¼ã‚»ãƒ—ãƒˆ</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', sans-serif;
      overflow: hidden;
      background: #000;
    }

    /* ===== ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ ===== */
    #game-container {
      position: relative;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(180deg, #000005 0%, #03030f 70%, #050515 100%);
      cursor: pointer;
      overflow: hidden;
    }

    /* ===== æ˜Ÿ ===== */
    .star {
      position: absolute;
      background-color: #fff;
      border-radius: 50%;
    }

    /* ===== ç•œæ˜Ÿ ===== */
    #chikusei {
      position: absolute;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, #e07050 0%, #c0503a 40%, #a03020 70%, #701810 100%);
      box-shadow: inset -8px -8px 20px rgba(0,0,0,0.5), 0 0 20px 5px rgba(200,100,50,0.3);
      transform: translate(-50%, -50%);
      z-index: 5;
    }

    #chikusei::after {
      content: '';
      position: absolute;
      top: 30%;
      left: 20%;
      width: 25px;
      height: 8px;
      background: rgba(120,40,20,0.4);
      border-radius: 50%;
      transform: rotate(-15deg);
    }

    /* ===== åœ°çƒ ===== */
    #earth-container {
      position: absolute;
      bottom: -225px;
      left: 50%;
      transform: translateX(-50%);
      width: 450px;
      height: 450px;
    }

    #earth-glow {
      position: absolute;
      inset: -40px;
      border-radius: 50%;
      background: radial-gradient(circle, transparent 50%, rgba(100,180,255,0.1) 70%, transparent 90%);
    }

    #earth {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: inset -40px -25px 80px rgba(0,0,0,0.7), 0 0 50px 10px rgba(100,180,255,0.25);
    }

    #earth-svg {
      position: absolute;
      height: 115%;
      width: auto;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }

    #earth-shadow {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: linear-gradient(105deg, transparent 40%, rgba(0,0,20,0.4) 55%, rgba(0,0,10,0.7) 100%);
      animation: shadowMove 60s linear infinite;
    }

    @keyframes shadowMove {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    #earth-atmosphere {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: radial-gradient(circle, transparent 80%, rgba(100,180,255,0.4) 95%, rgba(80,160,255,0.6) 100%);
    }

    /* ===== ãƒ­ã‚±ãƒƒãƒˆ ===== */
    #rocket {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: 40px;
      height: 110px;
      z-index: 10;
    }

    #rocket.launching {
      animation: rocketShake 0.06s infinite;
    }

    #rocket svg {
      width: 100%;
      height: 100%;
      filter: drop-shadow(0 8px 25px rgba(0,0,0,0.5));
    }

    #flame {
      opacity: 0;
      transition: opacity 0.2s;
    }

    #rocket.launching #flame {
      opacity: 1;
    }

    /* ===== UI ===== */
    #ui-top {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 20;
    }

    #mission-title {
      color: #ff8866;
      font-size: 11px;
      letter-spacing: 3px;
      text-shadow: 0 0 15px rgba(255,100,50,0.8);
    }

    #ui-bottom {
      position: absolute;
      bottom: 25px;
      left: 50%;
      transform: translateX(-50%);
      text-align: center;
      z-index: 20;
    }

    #attempts {
      color: #5cb8ff;
      font-size: 10px;
      letter-spacing: 2px;
      margin-bottom: 8px;
    }

    #instruction {
      color: rgba(255,200,100,0.9);
      font-size: 11px;
      letter-spacing: 1px;
      animation: pulse 1.5s infinite;
    }

    #instruction.hidden {
      color: rgba(255,255,255,0.4);
      animation: none;
    }

    /* ===== ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ===== */
    .menu-overlay {
      position: absolute;
      inset: 0;
      background: rgba(0,0,0,0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 100;
      animation: fadeIn 0.5s ease;
    }

    .menu-overlay.show {
      display: flex;
    }

    .menu-box {
      border-radius: 20px;
      padding: 40px;
      text-align: center;
    }

    /* ã‚¯ãƒªã‚¢ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
    #clear-menu .menu-box {
      background: linear-gradient(145deg, #1a2a4a, #0a1525);
      border: 2px solid rgba(100,180,255,0.3);
    }

    #clear-menu .emoji {
      font-size: 48px;
      margin-bottom: 10px;
    }

    #clear-menu h1 {
      color: #5cb8ff;
      font-size: 28px;
      margin: 0 0 10px 0;
    }

    #clear-menu .message {
      color: #8cc8ff;
      font-size: 14px;
      margin: 0 0 5px 0;
    }

    #clear-menu .attempts-result {
      color: rgba(255,255,255,0.5);
      font-size: 12px;
      margin: 0 0 30px 0;
    }

    .btn-group {
      display: flex;
      gap: 15px;
      justify-content: center;
    }

    .btn {
      border: none;
      border-radius: 10px;
      padding: 12px 30px;
      font-size: 14px;
      cursor: pointer;
      font-weight: bold;
      letter-spacing: 2px;
      transition: transform 0.1s, box-shadow 0.1s;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn-next {
      background: linear-gradient(145deg, #4CAF50, #2E7D32);
      color: white;
    }

    .btn-close {
      background: linear-gradient(145deg, #444, #222);
      border: 1px solid #555;
      color: white;
    }

    /* å¤±æ•—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
    #fail-menu .menu-box {
      background: linear-gradient(145deg, #3a1a1a, #1a0a0a);
      border: 2px solid rgba(255,100,100,0.3);
    }

    #fail-menu h1 {
      color: #ff6b6b;
      font-size: 24px;
      margin: 0 0 10px 0;
    }

    #fail-menu .message {
      color: rgba(255,255,255,0.6);
      font-size: 13px;
      margin: 0 0 25px 0;
    }

    .btn-retry {
      background: linear-gradient(145deg, #cc4444, #992222);
      color: white;
    }

    /* ===== ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ ===== */
    @keyframes twinkle {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.2; }
    }

    @keyframes rocketShake {
      0%, 100% { transform: translateX(-50%); }
      50% { transform: translateX(-50%) translateY(-1px) rotate(0.2deg); }
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
  </style>
</head>
<body>
  <div id="game-container">
    <!-- æ˜Ÿï¼ˆJSã§ç”Ÿæˆï¼‰ -->

    <!-- ç•œæ˜Ÿ -->
    <div id="chikusei"></div>

    <!-- ãƒ­ã‚±ãƒƒãƒˆ -->
    <div id="rocket">
      <svg viewBox="0 0 70 240">
        <defs>
          <linearGradient id="body" x1="0%" x2="100%">
            <stop offset="0%" stop-color="#888"/>
            <stop offset="50%" stop-color="#f8f8f8"/>
            <stop offset="100%" stop-color="#888"/>
          </linearGradient>
          <linearGradient id="nose" x1="0%" x2="100%">
            <stop offset="0%" stop-color="#1a1a1a"/>
            <stop offset="50%" stop-color="#444"/>
            <stop offset="100%" stop-color="#1a1a1a"/>
          </linearGradient>
          <linearGradient id="flameGrad" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" stop-color="#ff3300"/>
            <stop offset="50%" stop-color="#ffbb00"/>
            <stop offset="100%" stop-color="rgba(255,255,0,0)"/>
          </linearGradient>
          <filter id="glow" x="-100%" y="-20%" width="300%" height="150%">
            <feGaussianBlur stdDeviation="3"/>
          </filter>
        </defs>
        <path d="M35,0 C25,15 22,35 22,50 L48,50 C48,35 45,15 35,0 Z" fill="url(#nose)"/>
        <rect x="22" y="50" width="26" height="40" fill="url(#body)"/>
        <rect x="20" y="90" width="30" height="12" fill="#333"/>
        <rect x="20" y="102" width="30" height="90" fill="url(#body)"/>
        <rect x="6" y="105" width="12" height="18" fill="#333" rx="1"/>
        <rect x="52" y="105" width="12" height="18" fill="#333" rx="1"/>
        <path d="M20,175 L5,198 L9,200 L22,180" fill="#333"/>
        <path d="M50,175 L65,198 L61,200 L48,180" fill="#333"/>
        <path d="M20,192 L17,202 L53,202 L50,192" fill="#333"/>
        <g id="flame">
          <ellipse cx="35" cy="255" rx="32" ry="45" fill="url(#flameGrad)" filter="url(#glow)" opacity="0.5"/>
          <path d="M24,208 Q18,235 15,270 Q26,305 35,315 Q44,305 55,270 Q52,235 46,208 Z" fill="url(#flameGrad)" filter="url(#glow)"/>
        </g>
      </svg>
    </div>

    <!-- åœ°çƒ -->
    <div id="earth-container">
      <div id="earth-glow"></div>
      <div id="earth">
        <svg id="earth-svg" viewBox="0 0 712.74 387.88" preserveAspectRatio="xMidYMid meet">
          <defs>
            <style>
              .st0 { fill: #7ec4e3; }
              .st1 { fill: #43a47e; }
              .st2 { fill: #63a642; }
              .st3 { fill: #83c6b4; }
              .st4 { fill: #64a942; }
              .st5 { fill: #319d7e; }
              .st6 { fill: #74b692; }
              .st7 { fill: #65a740; }
              .st8 { fill: #80c2e1; }
              .st9 { fill: #5ba359; }
              .st10 { fill: #62a63d; }
              .st11 { fill: #61a86d; }
              .st12 { fill: #7fc6de; }
              .st13 { fill: #60a74d; }
            </style>
          </defs>
          <path class="st0" d="M433.08,36.82c3.57.36,5.89,2.35,7.94,5.17,8.54,15.13,24.96,25.85,40.8,32.79,3.46,1.52,24.79,10.53,17.98,1.51-6.15-4.93-11.32-10.66-6.87-18.94l1.18.02,1.99.04c62.1,28.51,114.67,76.26,149.77,135.42,32.88,55.43,51.13,127.52,46.11,191.8-.04.57-.25,1.14-.46,1.71s-.49,1.13-.79,1.67h-419.35c-.61-.62-1.02-1.52-1.22-2.69-2.38-4.34-6.52-7.07-12.43-8.19-10.1-1.58-26.64-11.13-17.32-22.4,3.45-2.5,5.93-5.59,7.45-9.27,2.95-3.09,8.39-13.52,3.09-16.67-2.4-1.42-10.64-1.74-13.75-1.64-8.48.28-14.09,1.11-17.68,8.97-2.85,11.7-10.17,16.1-21.43,10.44-14.98-7.53-25.14-27.89-19.94-44.15,2.02-6.31,5.09-13.51,7.76-19.68,2.18-5.04,5.29-11.67,8.02-16.43,2.05-3.58,3.6-5.67,7.72-6.67,3.6-9.53,17.74-7.42,25.8-5.76,6.06,2.41,12.08,3.05,18.06,1.93l12.91-3.73c4.38-1.03,8.14-1.03,12.52-.12,8.14,1.69,22.37,5.26,23.64,14.77-.76,8.37,1.74,33.12,11,35.95,6.04,1.85,7.52-9.14,7.13-13.22-1.46-10.2-2.84-21.18-2.85-31.48,0-7.59.32-11.89,5.58-17.78,10.21-9.91,22.37-17.49,34.42-24.97,10.28-7.2,13.31-17.04,16.01-28.73,1.5-3.58,3.84-5.35,7.44-6.84,14.12-4.18,25.93-10.58,35.78-21.33,5.79-4.3,13.85-6.05,15.44,3.09,3.41,6.3,13.28-.85,17.02-3.92,3.92-2.47,8.18-4.19,12.78-5.17,6.88-2.72,1.36-11.03-4.08-11.5-4.8.47-7.81.56-12.34-1.43-2.18-.96-6.91-3.2-7.08-5.63-.09-1.18,3.63-10.03,4.44-10.71l4.74-1.45c5.76-.07,11.2-1.06,16.33-2.96,4.11-3.56,5.93-3.53,5.47.09-1.74,1.3-2.74,3.22-3,5.78-1.74,2.93-3.75,10.47-.25,12.67,4.6,2.89,18.34,2.84,24.13,2.65,2.98-.1,5.79-3.44,4.64-6.43-1.74-4.52-7.26-7.97-11.86-8.97-2.4-1.69-4.1-4.21-5.11-7.57-1.55-2.57-3.47-3.05-6.31-2.38-1.45.06-1.79-.95-1.98-2.25.24-5.74-1.47-10.41-5.14-13.99l-8.51-6.82c-10.54-6.75-20.58-14.21-30.13-22.38-.88.32-1.66,1.15-2.33,2.49-6.45,6.34-16.73-3.96-15.66-7.96.91-3.4,8.47-1.03,10.76-.11,1.03.21,2.08.12,3.02-.28.7-.29,5.31-3.68,5.66-4.13,1.55-1.97-1.04-5.95-2.36-7.38-4.57-4.91-11.92-10.76-17.47-14.67-3.2-2.25-6.13-3.78-10-4.56-1.43-.67-3.16-1.62-1.68-3.12.48-.18.97-.34,1.46-.43s.96-.18,1.42-.13c14.16,1.64,27.77,3.66,41.24,7.05l.73,1.02Z"/>
          <path class="st7" d="M290.89,257.18l-.69.17c-1.55-1.12-3.28-1.92-5.05-2.62-7.46-2.96-17.48-6.39-25.39-4.6-6.22,2.04-12.5,3.76-18.83,5.16-4.77-.32-9.51-1.33-14.23-3.03-14.73-3.73-25.58-.14-33.71,12.89-6.25,10.01-11.38,22.58-15.29,33.76-6.47,18.49,1.8,38.83,18.63,48.63,13.61,7.93,20.71,1.97,24.96-11.16,4.01-7.77,10.63-8.12,18.88-7.89,17.07.48,11.7,9.18,3.35,20.13l-5.45,6.81c-8.8,14.38,11.88,22.5,23.14,24.45,3.79,1.47,6.4,3.07,8.04,7,.18.43.02.81-.36,1.14h-36.32c-1.76-.55-3.59-.91-5.47-1.08l-5.38-2.92c-8.54-2.65-16.13-7.13-22.52-13.39-3.55-1.65-7.03-3.5-10.43-5.55-5.83-1.58-11.89-2.33-18.18-2.26-7.21-2.32-13.55-6.44-19.03-12.38-3.74-1.87-6.15-3.56-8.02-7.37-3.22-2.31-6.12-4.91-8.71-7.81-7.12-4.63-8.92-13-8.2-21.1,1.61-7.01,1.63-13.61.66-20.77.2-4.48-.85-8.79-3.16-12.95-5.22-21.91-5.82-44.75-4.23-66.72-.42-2.03-2.53-2.79-4.23-3.36-2.39-.27-4.32-1.06-5.77-2.34l-.35-1.68,3.63-15.85,2.69-24.62c.67-5.14,2.14-12.81,5.25-17.03,12.04-16.34,25.52-31.8,40.15-45.65l1.45-2.14c4.38-12.38,15.83-21.3,27.55-26.55,1.47-1.32,3.01-2.54,4.63-3.65l29.79-14.55c8.62-1.77,16.93-4.79,24.93-9.08,27.11-8.14,53.13-14.84,81.57-16.66,15.3-.98,34.68-1.82,49.69.43,2.15.32,3.92,1.07,5.87,2.01,7.86,3.8,14.76,8.6,21.24,14.56,14.32,8.05,9.56,13.86-5.25,10.49-5.06-1.15-8.08-3.46-12.05-6.63-3.9-2.54-5.24-3.4-9.94-2.45-10.09,2.04-.44,11.8,5.38,12.1,5.2-.71,9.08.56,11.61,3.83,2.16,5.55,6.98,11.97,13.35,12.19,7.24-1.63,11.52-1.76,16.83,4.05l21.28,14.87c2.35,2.09,4.36,4.43,6.05,7.02,10.56,7.39,1.67,14.04-7.99,14.97-4.96-.38-9.67.23-14.11,1.84l-2.41,7c-8.27,11.71,3.76,15.79,13.99,16.9,3.76-.85,12.04.2,8.43,5.45-6.94,2.39-13.66,5.55-19.43,10.13-3.92,2.03-7.35.32-8.43-3.85-4.18-6.18-10.89-4.26-15.98-.3-2.41.85-4.5,2.06-6.26,3.64-3.37,4.88-7.83,8.77-13.37,11.67-6.13,2.95-12.48,5.41-19.07,7.36-4.72,2.01-7.98,4.57-8.79,9.74-.05,13.33-8.09,21.96-18.68,28.89-6.15,2.92-11.81,6.58-16.98,11-10.4,6.86-20.07,14.75-18.79,28.43.08,10.19.78,20.37,2.09,30.51.04,2.58-.21,10.31-1.67,11.96s-3.8-.74-4.69-2.01c-5.81-8.32-6.47-20.48-5.16-30.25-.64-3.06-3.34-9.32-7.01-8.93Z"/>
          <path class="st8" d="M167.82,87.96c.42.11.4.26-.01.44l-1.4,1.49-.03,1.17c-2.13,1.69-3.26,4.2-3.38,7.55l-1.52,2.82c-14.6,14.14-28.02,29.5-40.28,46.09-4.08,7.49-6.4,15.74-6.97,24.76l-2.05,19c-4.74,18.87-6.62,37.82-7.83,56.96-.56,8.94-1.21,19.38.44,28.2.14.74.81,4.14,1.33,3.58,3.01-3.29,3.83-10.4,3.46-14.73-2.12-12.76-1.54-26.01-.7-38.64.24-3.59.92-12.94,3.69-15.25,3.69-3.07,6.59,3.15,5.99,6.42.03,12.65.28,25.34.73,38.07.99,11.38,3.06,22.46,6.23,33.25.66,6.38,1.08,12.79,1.28,19.22-1.85,4.87-2.07,9.92-1.12,15.01s3.33,8.05,7.14,12.01c5.19,4.93,10.31,9.77,15.37,14.51,3.75,2.27,7.17,5.04,10.26,8.32,4.24,3.43,9.46,6.37,15.07,6.14,6.41-1.26,12.15-.31,17.22,2.84,7.83,5.98,16.09,11.26,24.77,15.83,3,.99,5.78,2.23,8.36,3.73l-.11,1.28H20.9c-.27-.58-.52-1.16-.71-1.76s-.35-1.18-.39-1.77c-1.47-19.99-.44-42.71,2.02-61.69,2.86-22.03,7.49-44.71,15.07-66.89,20.14-58.98,54.29-108.56,100.8-148.46,8.46-7.26,17.48-14.82,26.78-20.94,1.3-.85,2.8-1.33,4.28-1.77,3.44-1.3.56,2.03-.94,3.23Z"/>
          <path class="st9" d="M384.5,30.2l.97-.56c3.35,2.18,6.94,4.1,10.76,5.76,5.79,4.4,11.6,8.73,17.43,13.01,11.53,8.29,2.73,18.02-8.37,12.8-6.61-1.91-12.85-4.61-18.7-8.09-12.9-5.36-8.09,3.06-.21,4.57,5.16.06,9.28,1.65,12.37,4.79,2.01,7.31,12.86,18.09,18.44,8.03.44-.49.95-.53,1.52-.16,8.9,7.9,18.5,14.91,28.79,21.02,3.89,2.93,7.61,6.22,10.96,9.72,8.22,8.62.73,18.26-9.72,18.94-4.82.22-9.58.7-14.31,1.44-.79,3.85-2.17,7.49-4.12,10.95-.7,1.62-1.34,3.3.41,4.48,5.86,3.93,13.19,4.68,19.97,4.02,7.52,2.55,9.22,11.62-.88,12.21-5.73,2.37-11.18,5.28-16.38,8.73-1.74.81-5.74,2.63-7.43,1.64-.99-.58-1.46-1.94-1.8-2.99-.89-5.89-2.1-6.97-8.1-5.91-4.47.79-8.32,3.83-11.65,6.76-7.91,8.78-17.05,13.8-28.32,16.73l-1.22-.45c-4.7,1.47-10.35,4.56-11.69,9.6-.16,11.36-5.89,20.88-15,27.54-10.34,6.13-20.85,12.61-29.85,20.61-10.53,9.34-10.61,15.58-9.58,30.19,1.33,9.71,1.98,19.33,1.94,28.86-.26,3.27-.74,8.53-5.46,6.83-7-2.53-10.37-26.07-9.17-33.16-.21-4.24-1.71-7.61-5.16-10.19l-.05-.73c1.52-4.3,8.46,5.98,7.93,9.37-1.53,9.77-1.06,18.59,3.97,27.14,1,1.7,1.46,4.43,4.39,4.09,1.58-6.07,1.59-12.47.64-18.75-1.27-8.37-2.2-25.26-.32-33.24.86-3.66,3.17-5.83,5.28-8.58,4.05-5.28,9.9-7.69,15.92-13.13,6.32-5.7,12.4-5.09,24.21-16.46,3.98-3.84,6.02-9.35,7.55-14.5,2.18-7.35-4.96-12.11,20.44-19.83,4.8-1.46,8.13-3.37,12.1-6.14,3.58-2.5,6.63-4.44,8.94-8.44,1.66-2.88,5.83-3.32,8.36-5.34,4.8-3.81,12.21-4.12,15.6,1.28.91,1.45.98,3.38,2.59,4.07,1.29.56,3.43.79,4.89-.37,5.76-4.53,12.31-7.64,19.29-10,.85-.29.53-2.07.02-2.42-5.59-3.94-4.1,1.68-18.88-3.87-3.13-1.18-5.63-3.39-6.55-6.22-1.24-3.8,1.47-6.36,2.65-9.62l2.54-7.02c8.02-4.48,16.64.67,24.16-5.38,1.51-1.21,2.42-2.72,2.32-4.61s-1.2-3.49-3.03-4.48c-2.1-1.14-2.89-3.39-4.39-5.14-3.49-4.08-8.33-6.3-12.57-9.45-3.76-2.8-7.18-5.38-11.15-7.92-2.78-1.77-5.32-5.51-8.98-5.31-4.06.22-8.47,2.46-12.5-.08-2.99-1.89-6.86-5.28-8.11-8.69-4.17-11.42-12.03-1.5-19.4-9.83-1.22-1.38-3.01-2.09-3.19-3.98-.16-1.62-.53-4.21,1.64-5.23,2.7-1.26,7.53-2.22,10.44-.66,7.41,3.99,9.05,8.47,17.52,8.89.47.02,9.11,2.41,10.41-.94,1.16-2.99-7.64-7.53-8.26-8.11-2.89-2.68-5.91-4.8-8.89-7.28-3.51-2.91-7.38-4.44-11.07-6.56s-5.92-2.58-10.15-2.92c-22.43-1.81-62.7-.46-84.08,5.03l-15.49,3.98c-9.03,2.32-17.61,4.08-26.41,7.09-6.66,2.27-12.73,6.51-19.39,8.01l-6.86,1.54c.42-.09-28.78,13.96-28.69,13.93-2.35.73-3.81,3.33-6.07,4.48-4.68,2.37-9.86,4.46-13.52,8.26-4.24,4.4-8.05,6.26-11.02,12.72-1.44,3.13-2.01,5.68-4.54,8.08-10.63,10.06-13.89,13.55-23.31,24.8l-4.56,5.44c-3.91,4.66-7.51,9.23-11.22,14.22-1.24,1.67-1.76,4.33-2.99,6.32-2.37,3.82-4.71,34.07-4.99,35.28l-3.5,14.72c-.21.9-.08,1.85.35,2.6.52.89,10.18,1.05,9.93,6.29l-.97,20.04c-.28,5.71.23,10.38.89,15.95,1.27,10.64,1.11,21.33,4.82,31.57.88,2.42,2.68,4.73,2.59,7.4-.16,4.43.42,8.55.76,12.87.41,5.24-1.67,10.04-1.56,15.39.09,4.2,1.18,9.83,3.71,13.1,1.64,2.12,3.9,2.97,5.51,5.29,2.1,3.03,7.36,4.93,8.86,8.34,1.66,3.79,4.45,3.5,7.07,5.77,6.2,5.36,12.35,12.1,21.51,12.18,7.02.06,13.87.09,19.79,4.7,1.83,1.43,5.15,2.02,6.74,3.59,5.87,5.78,12.47,9.66,20.35,12.18,3.22,1.03,5.62,3.95,9.42,3.94.8,0,1.67,1.09,2.2,1.39h-8.81c-.55-.64-1.22-1.33-2.24-1.67-11.72-3.95-16.31-8.1-26.27-14.84-3.93-2.66-7.72-6.14-12.73-6.54s-9.96,1.23-14.75-.44c-11.05-3.83-13.64-10.76-19.03-13.19-1.94-.88-2.85-2.93-4.47-4.17-6.97-5.36-12.91-11.38-18.18-18.51-2.25-6.76-2.78-13.82-.22-20.4-1-6.56.16-13.13-1.43-19.56l-3.69-14.87c-5.04-20.33-1.52-58.08-4-60.81-6.92-7.62-7.07,18-7.26,20.8-.67,9.91-.75,19.25.77,29.08,1.04,6.76.07,13.69-4.43,19.09-4.19-4.89-2.91-29.8-2.25-35.76.47-4.24.73-8.07,1.09-12.37l1.34-15.58c.8-9.38,3.34-17.96,5.23-27.16,1.79-13.31,1.77-26.74,6.62-39.42,3.25-8.5,24.16-31.76,31.27-38.96l10.46-10.59c5.29-5.36.64-8.35,6.83-12.26l1.4-1.49v-.44c1.23-.86,1.85-1.84,1.88-2.94,5.68-4.96,12.02-9.06,18.63-12.66,9.11-5.35,18.74-10.52,28.49-14.09,7.29-4.1,15.68-7.26,23.69-10.2,19.59-7.19,43.5-13.17,64.21-16.45,24.59-3.89,54.14-5.56,78.85-2.48l.94,1.08Z"/>
          <path class="st3" d="M388.23,29.32c.16,1.48,1.53,2.33,3.06,2.59,5.85,1.01,10,4.93,14.4,8.51,5.11,4.16,10.71,7.72,14.41,13.22,1.01,1.5.94,3.42.78,5-.19,1.77-2.45,2.12-3.62,3.35-6.25,6.62-11.03-2.4-16.16,1.81,1.03,4.02,4.71,7.72,8.65,8.76,7.15,1.89,5.94-7.69,10.15-3.47,5.46,5.47,15.79,12.43,22.31,16.91l6.78,4.65,7.19,5.71c7.71,6.13,5.1,8.93,7.18,17.25,2.13-.29,3.97-.76,5.51.31,4.89,3.42,2.51,8.98,8.71,10.16,4.06.77,12.52,7.29,10.79,12.36-.63,1.86-3.04,4.35-5.9,4.35-7.21,0-15.56.14-22.59-1.91-5.87-1.71-4.51-9.65-2.47-13.52,1.46-2.76.69-5.63,3.68-7.15.3-.15-.14-1.22-.39-1.37-.43-.26-.82.29-1.31.74-6.47,6.12-16.93,3.18-23.51,6.14l-2.81,6.15c-.66,1.44-1.55,2.79-1.25,4.29s2.12,1.83,3.37,2.61c4.11,2.58,7.79,4.16,12.84,3.17,5.37-1.05,11.55,4.5,10.26,9.97-.66,2.8-4.8,3.76-6.98,4.26-5.83,1.32-10.04,4.5-14.51,8-2.14,1.67-5.51,2.14-8,2.62-6.05,1.17-5.23-6.86-7.32-7.95-7.61-3.97-14.49,4.7-18.08,8.26-7.48,7.41-17.24,11-27.05,14.4-13.23,4.59-7.96,8.67-13.84,20.63l-4.07,8.28c-2.83,5.75-20.76,14.6-29.34,21.69-5.72,4.72-13.21,8.61-16.52,15.75-3.01,6.51-1.6,14.17-1.28,21.05.34,7.37.61,14.2,2.17,21.31.98,4.49-.52,13.44-5.16,14.95-1.92.63-4.14-.22-5.82-1.65-4.19-3.57-5.49-8.89-6.94-14-3.6-12.67-.34-20.45-2.56-23.72-3.6-5.31-10-7.72-15.95-9.22-4.17-1.05-7.94-2.64-12.25-2.36-16.08,1.04-17.03,8.38-34.81,3.1-6.78-2.01-25.39-4.56-27.65,4.89l-5.26,2.45c-3.48,4.39-4.79,9.79-7.4,14.6-3.71,6.83-6.14,13.7-8.77,20.96-1.2,3.32-2.79,5.65-3,9.46-.52,9.71,1.19,18.05,7.08,25.96,4.57,6.14,11.2,12.44,18.98,14.03,6.29,1.29,11.68-1.4,13.4-8.1,1.07-4.16,3.41-9.66,8.04-11.25,7.83-2.69,16.44-2.13,24.43-.94,5.46.81,4.16,10.6,3.05,12.12-1.78,2.45-3.77,4.7-4.75,7.58-1.31,3.85-4,5.49-7.07,8-2.7,2.2-3.4,8.9-.8,11.39,2.21,2.11,4.19,3.93,6.44,5.65,3.78,2.9,9.09,3.04,13.37,4.85,7.64,3.24,10.54,4.14,11.3,11.05h-.98l-.74-.26c-1.69-4.77-5.08-6.76-9.64-8.26-10.96-1.72-30.24-10.13-22.15-23.8l5.64-7.06c8.47-11.19,14.26-20.35-5.02-20.15-8.33.09-13.47.5-17.36,8.22-3.13,8.73-7.36,16.88-18.24,13.71-10.4-3.03-19.97-12.73-24.06-22.68s-4.25-17.63-1.42-27.99,10.06-24.93,15.46-34.39c3.91-6.84,11.96-13.76,20.04-14.28s15.96,1.59,23.61,3.89c2.77.55,5.67.44,8.42-.32,6.61-2.6,13.34-4.33,20.17-5.19,4.96-.1,16.84,3.72,21.51,5.87,6.29,2.89,9.1,6.44,9.51,13.25-1.03,7.23,1.95,28.8,8.73,32.42,1.93,1.03,4.52.57,5.11-1.75,1.12-4.41.96-9.02.73-13.54-1.07-9.01-1.78-18.05-2.13-27.12.04-8.04.1-14.2,6.22-19.84,10.27-9.47,21.42-17.22,33.58-24.08,9.03-5.89,14.78-16.99,14.9-27.58,1.36-4.97,6.99-8.01,11.66-9.48,3.24-1.97,13.57-3.02,21.67-10.25,7.56-6.76,14.84-16.04,25.59-13.58,3.26.75,1.81,9.63,5.35,9.03,8.94-1.52,13.49-9.37,26.31-11.69,1.25-.23,1.93-1.67,2.07-2.5.23-1.34-.31-2.47-1.1-3.62-5.03-7.29-7.55,1.11-22.46-6.26-1.4-.69-2.95-1.13-3.56-2.82-1.14-3.15,4.41-8.75,4.69-15.18,7.87-2.63,20.72,1.21,26.72-8.11,2.35-3.64-.35-9.01-3.25-11.76-3.7-3.51-7.15-6.92-11.38-9.69l-11.81-7.72c-8.69-5.68-8.29-6.04-15.86-12.67-1.22,2.53-3,4.42-5.22,4.72-5.58.74-12.29-5.64-13.55-9.95-3.03-10.41-16.6-2.6-21.43-12.88-.67-1.42,1.89-2.84,3.36-2.45,11.43,2.98,9.62,6.34,27.02,10.72,2.55.64,4.9,1.71,7.11.09,1.88-1.38,4.04-3.98,2.7-6.52-2.41-4.58-7.17-6.8-11.17-9.91-5.61-4.36-10.84-9.52-17.81-11.59-1.75-.52-3.14-2.68-4.4-2.84-1.02-1.05.01-1.73,1.28-1.34.65.32,1.72.35,2.44.46Z"/>
          <path class="st6" d="M374.91,177.62c-3.17,1.93-6.83,3.39-9.53,6.2-3.64,3.8.23,12.16-7.8,22.31-2.81,3.55-5.93,7.31-9.9,9.6-12.08,6.98-23.67,14.33-33.3,24.4-2.42,2.53-4.4,5.18-4.82,8.66-2.32,19.18,3.28,32.86.95,50.27-.2,1.51-2.32,2.89-3.38,3.2-3.74,1.12-8-8.68-8.94-11.61-5.99-18.64,1.74-26.24-8.6-33.04-2.6-1.71-4.88-2.79-8.01-3.52-8.93-2.07-15.17-6.36-25.76-2.25-3.39,1.31-6.89,1.98-10.37,3-11.19,3.28-13.26-2.98-30.25-3.4-6.66-.16-11.23,2.67-15.77,6.94-2.61,2.45-4.45,4.38-6.21,7.73-2.76,5.24-5.82,10.08-8.07,15.65l-6.74,16.69c-3.73,9.23-3.11,18.22.4,27.55,3.84,10.2,11.57,18.22,21.71,22.78,3.43,1.55,7.25,2.33,11.25.54,8.04-3.6,7.02-15.83,13.75-19.04,7.04-3.36,24.24-3.69,26.61,1.86s-9.6,18.93-13.19,23.25c-3.57,4.3-2.94,9.63.52,13.47,11.96,13.27,27.24,5.74,30.93,19.15h-1.52c-3.47-9.96-16.79-8.52-22.08-11.79-2.91-1.8-5.9-3.98-8.17-6.36-4.16-4.34-4.83-10.13-1.09-14.85,4.71-5.94,9.54-11.68,12.73-18.66.59-1.29.16-3.63-.5-4.58-2.64-3.85-17.41-2.79-21.81-1.4-10.42,3.28-5.37,25.81-26.15,20.49-4.92-1.26-8.03-4.16-11.69-6.98-7.64-5.9-11.91-13.48-13.89-22.71-1.4-6.51-2.34-12.37-.17-18.95,3.19-9.67,6.42-19.14,11.47-28.1,2.67-4.73,4.45-9.76,8.12-13.84,2.16-2.4,4.96-4.3,7.35-6.34,3.52-3.02,7.65-3.36,12.08-3.31,6.49.08,12.45.69,18.57,2.94,4.75,1.74,9.8,1.83,14.43-.44,3.58-1.75,7.25-2.37,10.98-3.35,4.91-1.29,9.13-1.53,13.91.18l8.65,3.08c3.52,1.25,6.56,2.01,9.25,4.14,4.26,3.38,6.2,7.14,5.8,13-.67,10,1.07,20.32,6.47,28.62.85,1.31,2.31,1.93,3.36,2.15,6.39,1.31,3.53-19.26,3.03-23.1-1.24-9.47-1.92-18.71-.96-28.06,1.01-9.93,9.76-15.17,17.66-21.17,5.25-3.99,10.27-7.92,16.22-10.88,9.43-4.69,19.9-16.36,19.86-27.76,0-3.38,1.05-5.45,3.46-7.68,2.64-2.45,5.44-4.71,9.11-4.66Z"/>
          <path class="st13" d="M334.38,351.28c-6.02-1.64-3.57-8.78-13.31-12.06l-12.5-4.22c-7.22-2.44-12.99-12.05-24.68-9.38-2.74.63-9.29,2.6-10.21-.22-1.9-5.83,20.2-7.5,29.08-4.97,6.49,1.85,10.73,7.03,16.44,10.17,9.14,5.01,36.18,7.87,33.12,18.21-1.28,4.34-12.99,3.83-17.95,2.48Z"/>
          <path class="st4" d="M405.13,372.82c-16.66,2.58-20.45-8.6-31.28-1.11-2.42,1.68-5.93-.32-8.4-1.01-5.9-1.64-11.45-2.63-16.66-5.78-2.03-1.22-3.91-4.92-1.75-6.49s5.19-.9,7.63-2.03c2.83-1.31,5.88-3.49,9.18-3.02,5.13.73,10.67,1.03,15.04,3.42l4.42,2.41,12.93,3.14c3.87.94,7.61,2.71,9.7,6.16.76,1.26.93,4.04-.81,4.3Z"/>
          <path class="st1" d="M494.12,57.37c-2.55,3.01-2.27,9.33.24,12.61,1.29,1.68,10.08,7.48,7.56,10.16-.59.63-2.35,1.47-3.63,1.17-13.26-3.08-25.59-9.15-36.83-16.98-6.02-4.2-12.07-8.16-16.18-14.3l-4.44-6.62c-2.05-3.06-4.47-5.07-7.77-6.59,3.27.16,6.73-.17,10.05,1.01s6.48,1.63,9.82,2.65l17.4,5.32c5.27,1.61,10.04,4.42,14.89,5.75,4.46,1.22,5.83,3.99,8.88,5.82Z"/>
          <path class="st11" d="M335.65,369.11c-2.9,3.82-11.1.49-13.95-1.31-.98-.62-1.27-2.16-1.13-2.89.75-4.09,17.91.47,15.08,4.2Z"/>
          <path class="st12" d="M368.33,81.94c-1.87,6.38-10.91,6.86-13.82,9.69,1.7,5.43,3.14,16.68-4.56,17.15-3.28.2-5.24-1.76-6.82-4.45-3.77-6.42.01-14.03-1.83-16.33-3.35-4.19-10.35.37-16.24-4.71-3.72-3.2-8.01-6.89-13.1-7.34-3.9-.34-6.47-1.32-8.25-5.29-.89-1.99-2.65-5.86-.01-7.72,9.6-6.8,20.74-10.9,31.92-14.03,2.89,1.21,5.14,2.72,8,3.46,9,2.33,20.71-7.3,24.61-1.85.66.93,1.06,2.58.46,3.93-3.26,7.34-.37,10.29-4.26,14.44s5.6,7.31,3.91,13.05Z"/>
          <g>
            <path class="st5" d="M380.42,27.37c-22.71-1.34-45.27-1.3-67.9,1.59-8.35,1.07-16.2,2.08-24.31,3.88-7.77,1.73-15.01,4.35-22.9,5.59-6.45,1.01-12.01,3.8-18.15,5.63-7.62,2.27-14.53,5.08-21.79,8.29-3.45,1.52-6.71,2.48-10.08,4.25-6.04,3.18-12.41,5.36-18.37,8.99-6.11,3.72-12.05,7.2-18.42,10.53-4.04,2.11-7.35,5.08-9.75,8.61.34.21.73.33,1.18.78l-2.12,2.45c10.17-9.33,17.86-13.1,29.96-19.63l11.52-6.22c3.2-1.73,7.06-2.05,10.13-4.23,3.74-2.65,8.06-3.32,12.07-5.15,5.35-2.44,10.41-4.27,16.03-5.97l21.21-6.42c7.91-2.39,15.67-3.69,23.71-5.43,11.33-2.46,22.25-3.98,33.74-4.93,7.71-.63,15.55-1.32,23.8-1.33,9.09-.02,25.89.44,34.51,1.55l1.28-1.34c-1.59-.77-3.2-1.36-5.36-1.49Z"/>
            <path class="st5" d="M167.31,88.93l-.9.96c.36-.23.62-.61.9-.96Z"/>
            <path class="st5" d="M167.31,88.93l.5-.53c-.18.14-.34.33-.5.53Z"/>
          </g>
          <path class="st2" d="M482.59,138.48c-6.93-.17-13.47-.46-20.2-1.04-1.77-.15-3.56-1.38-4.13-2.49-.85-1.7-.34-3.62.38-5.24,1.26-2.82,5.13-14.55,8.93-13.53,4.07,1.08-1.59,7.63,8,9.91,8.64,2.06,11.66,8.38,9.64,11.21-.39.54-1.39,1.21-2.64,1.18Z"/>
          <path class="st10" d="M497.47,74.91c.95.59,2.89,3.95,1.2,4.05-6.94.42-13.76-2.93-19.66-6.33-3.96-2.28-8-3.64-11.74-6.08-5.16-3.37-9.79-7.28-14.71-10.97-3.3-2.47-5.51-5.92-8.47-8.78-.86-.83-1.41-4.33.16-4.29,4.31.12,8.76,1.38,12.89,2.68l14.96,4.68,12.75,5.27c3.68,1.52,7.01,3.66,6.53,7.98-.54,4.81,1.67,9.02,6.09,11.78Z"/>
        </svg>
        <!-- æ˜¼å¤œã®å½±ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ï¼ˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ -->
        <div id="earth-shadow"></div>
        <div id="earth-atmosphere"></div>
      </div>
    </div>

    <!-- UIä¸Šéƒ¨ -->
    <div id="ui-top">
      <div id="mission-title">ğŸ”´ ç•œæ˜Ÿ INTERCEPT MISSION</div>
    </div>

    <!-- UIä¸‹éƒ¨ -->
    <div id="ui-bottom">
      <div id="attempts">ATTEMPTS: <span id="attempts-count">0</span></div>
      <div id="instruction">ğŸš€ TAP TO LAUNCH!</div>
    </div>

    <!-- ã‚¯ãƒªã‚¢ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="clear-menu" class="menu-overlay">
      <div class="menu-box">
        <div class="emoji">ğŸš€ğŸ¯</div>
        <h1>MISSION COMPLETE!</h1>
        <p class="message">ç•œæ˜Ÿã¸ã®è»Œé“æŠ•å…¥ã«æˆåŠŸï¼</p>
        <p class="attempts-result">Attempts: <span id="clear-attempts">0</span></p>
        <div class="btn-group">
          <button class="btn btn-next" id="btn-next">NEXT â†’</button>
          <button class="btn btn-close" id="btn-close">CLOSE</button>
        </div>
      </div>
    </div>

    <!-- å¤±æ•—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ -->
    <div id="fail-menu" class="menu-overlay">
      <div class="menu-box">
        <div class="emoji" style="font-size:48px; margin-bottom:10px;">ğŸ’¥</div>
        <h1>MISSION FAILED</h1>
        <p class="message" id="fail-reason">ãƒ­ã‚±ãƒƒãƒˆãŒç•œæ˜Ÿã‚’é€ƒã—ã¾ã—ãŸ...</p>
        <button class="btn btn-retry" id="btn-retry">TRY AGAIN</button>
      </div>
    </div>
  </div>

  <script>
    // ===== è¨­å®š =====
    const CONFIG = {
      starCount: 80,
      launchDuration: 2500,
      orbitDuration: 1600,  // ç•œæ˜Ÿã®é€šéæ™‚é–“ï¼ˆ5å€é€Ÿï¼‰
      nextPageUrl: 'https://chikumo.jp/story/01/'  // ã‚¯ãƒªã‚¢å¾Œã®é·ç§»å…ˆ
    };

    // ===== è¦ç´ å–å¾— =====
    const container = document.getElementById('game-container');
    const chikusei = document.getElementById('chikusei');
    const rocket = document.getElementById('rocket');
    const attemptsCount = document.getElementById('attempts-count');
    const instruction = document.getElementById('instruction');
    const clearMenu = document.getElementById('clear-menu');
    const failMenu = document.getElementById('fail-menu');
    const clearAttempts = document.getElementById('clear-attempts');
    const failReason = document.getElementById('fail-reason');
    const btnNext = document.getElementById('btn-next');
    const btnClose = document.getElementById('btn-close');
    const btnRetry = document.getElementById('btn-retry');

    // ===== ã‚²ãƒ¼ãƒ çŠ¶æ…‹ =====
    let gameState = 'ready'; // ready, launching, cleared, failed
    let attempts = 0;
    let rocketY = 240;
    let chikuseiProgress = 0;
    let startTime = null;
    let launchTime = null;
    let animationId = null;

    // ===== æ˜Ÿã‚’ç”Ÿæˆ =====
    function createStars() {
      for (let i = 0; i < CONFIG.starCount; i++) {
        const star = document.createElement('div');
        star.className = 'star';
        const size = Math.random() * 2.5 + 0.5;
        const brightness = Math.random() * 0.6 + 0.4;
        star.style.cssText = `
          left: ${Math.random() * 100}%;
          top: ${Math.random() * 75}%;
          width: ${size}px;
          height: ${size}px;
          opacity: ${brightness};
          animation: twinkle ${Math.random() * 2 + 1.5}s ${Math.random() * 4}s infinite;
        `;
        container.appendChild(star);
      }
    }

    // ===== ç•œæ˜Ÿã®ä½ç½®ã‚’æ›´æ–° =====
    function updateChikusei(progress) {
      const x = 90 - progress * 80;
      const y = 15 + Math.sin(progress * Math.PI) * 25;
      chikusei.style.left = x + '%';
      chikusei.style.top = y + '%';
      return { x, y };
    }

    // ===== ãƒ­ã‚±ãƒƒãƒˆã®ä½ç½®ã‚’æ›´æ–° =====
    function updateRocket(y) {
      rocket.style.bottom = y + 'px';
    }

    // ===== è¡çªåˆ¤å®š =====
    function checkCollision(chikuseiPos, rocketY) {
      const rocketX = 50;
      const rocketTopY = 100 - (rocketY / 8);
      const distance = Math.sqrt(
        Math.pow(chikuseiPos.x - rocketX, 2) + 
        Math.pow(chikuseiPos.y - rocketTopY, 2)
      );
      return distance < 10;
    }

    // ===== ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ— =====
    function gameLoop(timestamp) {
      if (!startTime) startTime = timestamp;

      const elapsed = timestamp - startTime;
      chikuseiProgress = (elapsed % CONFIG.orbitDuration) / CONFIG.orbitDuration;
      const chikuseiPos = updateChikusei(chikuseiProgress);

      if (gameState === 'launching' && launchTime) {
        const launchElapsed = timestamp - launchTime;
        rocketY = 240 + (launchElapsed / CONFIG.launchDuration) * 700;
        updateRocket(rocketY);

        // è¡çªåˆ¤å®š
        if (checkCollision(chikuseiPos, rocketY)) {
          gameState = 'cleared';
          showClearMenu();
        }

        // ç”»é¢å¤–ã«å‡ºãŸã‚‰å¤±æ•—
        if (rocketY > 1000 && gameState !== 'cleared') {
          gameState = 'failed';
          showFailMenu('ãƒ­ã‚±ãƒƒãƒˆãŒç•œæ˜Ÿã‚’é€ƒã—ã¾ã—ãŸ...');
        }
      }

      // å¸¸ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ç¶™ç¶š
      animationId = requestAnimationFrame(gameLoop);
    }

    // ===== ã‚¯ãƒªã‚¢ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤º =====
    function showClearMenu() {
      clearAttempts.textContent = attempts;
      clearMenu.classList.add('show');
    }

    // ===== å¤±æ•—ãƒ¡ãƒ‹ãƒ¥ãƒ¼è¡¨ç¤º =====
    function showFailMenu(reason) {
      failReason.textContent = reason;
      failMenu.classList.add('show');
    }

    // ===== ã‚²ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ =====
    function resetGame() {
      gameState = 'ready';
      rocketY = 240;
      launchTime = null;
      updateRocket(rocketY);
      rocket.classList.remove('launching');
      instruction.textContent = 'ğŸš€ TAP TO LAUNCH!';
      instruction.classList.remove('hidden');
      clearMenu.classList.remove('show');
      failMenu.classList.remove('show');
    }

    // ===== ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ =====
    container.addEventListener('click', (e) => {
      // ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆã¯ç„¡è¦–
      if (gameState === 'cleared' || gameState === 'failed') return;

      if (gameState === 'ready') {
        gameState = 'launching';
        attempts++;
        attemptsCount.textContent = attempts;
        launchTime = performance.now();
        rocket.classList.add('launching');
        instruction.textContent = 'LAUNCHING...';
        instruction.classList.add('hidden');
      }
    });

    // æ¬¡ã¸ãƒœã‚¿ãƒ³
    btnNext.addEventListener('click', (e) => {
      e.stopPropagation();
      window.location.href = CONFIG.nextPageUrl;
    });

    // é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³
    btnClose.addEventListener('click', (e) => {
      e.stopPropagation();
      resetGame();
    });

    // ãƒªãƒˆãƒ©ã‚¤ãƒœã‚¿ãƒ³
    btnRetry.addEventListener('click', (e) => {
      e.stopPropagation();
      resetGame();
    });

    // ===== åˆæœŸåŒ– =====
    createStars();
    updateRocket(rocketY);
    animationId = requestAnimationFrame(gameLoop);
  </script>
</body>
</html>
