<!DOCTYPE html>

<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Library</title>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --wall-base:#d4c8b8;
  --wall-light:#e8dfd2;
  --wall-shadow:#b8a890;
  --wood-light:#8b6b4a;
  --wood-mid:#5c4332;
  --wood-dark:#3a2820;
  --wood-grain:#4a3528;
  --text:#4a4035;
  --text-muted:#7a7060;
  --search-bg:rgba(139,107,74,0.25);
  --search-border:rgba(139,107,74,0.3);
}
html,body{
  min-height:100vh;
  margin:0;
}
body{
  font-family:Georgia,"Hiragino Mincho ProN","Yu Mincho",serif;
  color:var(--text);
  overflow-x:hidden;
}

/* Plaster wall background */
.wall{
min-height:100vh;
position:relative;
background:
radial-gradient(ellipse 80% 50% at 20% 10%,rgba(255,250,240,0.4) 0%,transparent 50%),
radial-gradient(ellipse 60% 40% at 85% 15%,rgba(255,245,230,0.3) 0%,transparent 40%),
radial-gradient(ellipse 100% 80% at 50% 100%,rgba(160,140,120,0.15) 0%,transparent 50%),
linear-gradient(180deg,var(–wall-light) 0%,var(–wall-base) 40%,var(–wall-shadow) 100%);
}
.wall::before{
content:””;
position:absolute;
inset:0;
background:
url(“data:image/svg+xml,%3Csvg viewBox=‘0 0 200 200’ xmlns=‘http://www.w3.org/2000/svg’%3E%3Cfilter id=‘n’%3E%3CfeTurbulence type=‘fractalNoise’ baseFrequency=‘0.8’ numOctaves=‘4’ stitchTiles=‘stitch’/%3E%3C/filter%3E%3Crect width=‘100%25’ height=‘100%25’ filter=‘url(%23n)’/%3E%3C/svg%3E”);
opacity:0.03;
pointer-events:none;
}
.wall::after{
content:””;
position:absolute;
inset:0;
background:
linear-gradient(135deg,transparent 0%,transparent 40%,rgba(0,0,0,0.03) 100%),
radial-gradient(ellipse 50% 30% at 15% 8%,rgba(255,255,255,0.15) 0%,transparent 70%);
pointer-events:none;
}

.container{
position:relative;
z-index:10;
max-width:700px;
margin:0 auto;
padding:2rem 1.5rem 4rem;
}

header{
margin-bottom:2.5rem;
}
.title-area{
margin-bottom:1.2rem;
}
.title-area h1{
font-size:2.5rem;
font-weight:400;
letter-spacing:0.02em;
margin-bottom:0.3rem;
color:var(–text);
}
.title-area p{
color:var(–text-muted);
font-style:italic;
font-size:1.1rem;
}
.search-box{
position:relative;
width:100%;
max-width:400px;
}
.search-box input{
width:100%;
padding:0.9rem 1rem 0.9rem 2.8rem;
background:var(–search-bg);
border:1px solid var(–search-border);
border-radius:8px;
color:var(–text);
font-size:1rem;
font-family:inherit;
outline:none;
backdrop-filter:blur(8px);
-webkit-backdrop-filter:blur(8px);
}
.search-box input::placeholder{color:var(–text-muted)}
.search-box input:focus{
background:rgba(139,107,74,0.32);
border-color:rgba(139,107,74,0.4);
}
.search-box svg{
position:absolute;
left:0.9rem;top:50%;
transform:translateY(-50%);
width:18px;height:18px;
stroke:var(–text-muted);
stroke-width:2;
fill:none;
}

.bookshelf{
display:flex;
flex-direction:column;
margin-top:2rem;
}

.shelf{
display:none;
}
.shelf.visible{
display:block;
}

.shelf-books{
display:flex;
justify-content:center;
align-items:flex-end;
gap:24px;
padding:40px 20px 0;
min-height:220px;
position:relative;
}

/* Wooden shelf */
.shelf-board{
height:24px;
position:relative;
background:
linear-gradient(90deg,
var(–wood-dark) 0%,
var(–wood-mid) 5%,
var(–wood-light) 15%,
var(–wood-mid) 30%,
var(–wood-dark) 45%,
var(–wood-mid) 55%,
var(–wood-light) 70%,
var(–wood-mid) 85%,
var(–wood-dark) 95%,
var(–wood-mid) 100%
);
box-shadow:
0 4px 8px rgba(0,0,0,0.25),
0 8px 20px rgba(0,0,0,0.15),
0 12px 40px rgba(0,0,0,0.1),
inset 0 1px 0 rgba(255,255,255,0.1),
inset 0 -1px 0 rgba(0,0,0,0.2);
border-radius:1px;
}
.shelf-board::before{
content:””;
position:absolute;
inset:0;
background:
repeating-linear-gradient(90deg,
transparent 0px,
transparent 40px,
rgba(0,0,0,0.03) 40px,
rgba(0,0,0,0.03) 42px,
transparent 42px,
transparent 80px,
rgba(255,255,255,0.02) 80px,
rgba(255,255,255,0.02) 81px
);
border-radius:1px;
}
.shelf-board::after{
content:””;
position:absolute;
left:0;right:0;top:100%;
height:60px;
background:linear-gradient(180deg,rgba(0,0,0,0.18) 0%,rgba(0,0,0,0.08) 30%,transparent 100%);
pointer-events:none;
}

/* Book styling - leather bound appearance */
.book{
display:flex;
align-items:center;
justify-content:center;
width:140px;
height:195px;
flex-shrink:0;
border-radius:2px;
text-decoration:none;
position:relative;
padding:15px 12px;
text-align:center;
transition:transform 0.25s ease,box-shadow 0.25s ease;
background:
linear-gradient(135deg,
#3a3530 0%,
#2d2825 20%,
#252220 50%,
#2a2622 80%,
#1f1c1a 100%
);
box-shadow:
2px 4px 8px rgba(0,0,0,0.3),
4px 8px 16px rgba(0,0,0,0.2),
-1px 0 3px rgba(0,0,0,0.15),
inset 1px 1px 2px rgba(255,255,255,0.05),
inset -1px -1px 2px rgba(0,0,0,0.3);
}

/* Book spine (right edge thickness) */
.book::after{
content:””;
position:absolute;
top:2px;bottom:2px;right:-8px;
width:8px;
background:
linear-gradient(90deg,
#1a1815 0%,
#2a2520 40%,
#1f1c18 100%
);
border-radius:0 2px 2px 0;
box-shadow:
2px 0 4px rgba(0,0,0,0.3),
inset -1px 0 2px rgba(0,0,0,0.4);
}

/* Book texture overlay */
.book::before{
content:””;
position:absolute;
inset:0;
background:
url(“data:image/svg+xml,%3Csvg viewBox=‘0 0 100 100’ xmlns=‘http://www.w3.org/2000/svg’%3E%3Cfilter id=‘n’%3E%3CfeTurbulence type=‘fractalNoise’ baseFrequency=‘1.5’ numOctaves=‘3’/%3E%3C/filter%3E%3Crect width=‘100%25’ height=‘100%25’ filter=‘url(%23n)’/%3E%3C/svg%3E”);
opacity:0.04;
border-radius:2px;
pointer-events:none;
}

/* Book shadow on shelf */
.book-shadow{
position:absolute;
bottom:-4px;
left:50%;
transform:translateX(-50%);
width:90%;
height:8px;
background:radial-gradient(ellipse 100% 100% at 50% 0%,rgba(0,0,0,0.4) 0%,transparent 70%);
pointer-events:none;
z-index:-1;
}

.book:hover{
transform:translateY(-8px);
box-shadow:
4px 12px 20px rgba(0,0,0,0.35),
8px 16px 32px rgba(0,0,0,0.25),
-1px 0 3px rgba(0,0,0,0.15),
inset 1px 1px 2px rgba(255,255,255,0.08),
inset -1px -1px 2px rgba(0,0,0,0.3);
}

.book:focus{
outline:2px solid rgba(139,107,74,0.5);
outline-offset:4px;
}

.book.hidden{
display:none;
}

/* Gold embossed title */
.book-title{
font-size:1.3rem;
font-weight:500;
color:#c9b896;
line-height:1.4;
text-shadow:
0 1px 1px rgba(0,0,0,0.5),
0 0 2px rgba(180,160,120,0.3);
letter-spacing:0.15em;
position:relative;
z-index:1;
}

.no-results{
text-align:center;
padding:3rem;
color:var(–text-muted);
font-style:italic;
display:none;
}
.no-results.show{display:block}

@media(max-width:500px){
.container{padding:1.5rem 1rem 3rem}
.shelf-books{gap:16px;padding:30px 10px 0}
.book{width:115px;height:160px;padding:10px 8px}
.book-title{font-size:1.1rem}
.shelf-board{height:20px}
}
</style>

</head>
<body>
<div class="wall">
  <div class="container">
    <header>
      <div class="title-area">
        <h1>Library</h1>
        <p>Select a Book</p>
      </div>
      <div class="search-box">
        <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><line x1="16" y1="16" x2="21" y2="21"/></svg>
        <input type="text" id="search" placeholder="Search">
      </div>
    </header>
    <main class="bookshelf" id="bookshelf"></main>
    <p class="no-results" id="noResults">No books found</p>
  </div>
</div>

<script>
const BOOKS = [
  { id: 1, title: "五式", url: "https://chikumo.jp/Goshiki/" },
  { id: 2, title: "九式", url: "https://chikumo.jp/Kyushiki/" }
];

let shelves = [];

function buildShelves() {
  const container = document.getElementById("bookshelf");
  container.innerHTML = "";
  shelves = [];
  
  const numShelves = Math.ceil(BOOKS.length / 3);
  
  for (let s = 0; s < numShelves; s++) {
    const shelf = document.createElement("div");
    shelf.className = "shelf visible";
    
    const booksArea = document.createElement("div");
    booksArea.className = "shelf-books";
    
    const startIdx = s * 3;
    const shelfBooks = [];
    
    for (let i = 0; i < 3; i++) {
      const bookIdx = startIdx + i;
      if (bookIdx < BOOKS.length) {
        const bookData = BOOKS[bookIdx];
        const book = createBook(bookData);
        booksArea.appendChild(book);
        shelfBooks.push({ el: book, data: bookData });
      }
    }
    
    const board = document.createElement("div");
    board.className = "shelf-board";
    
    shelf.appendChild(booksArea);
    shelf.appendChild(board);
    container.appendChild(shelf);
    
    shelves.push({ el: shelf, books: shelfBooks });
  }
}

function createBook(data) {
  const book = document.createElement("a");
  book.className = "book";
  book.href = data.url;
  book.target = "_blank";
  book.rel = "noopener noreferrer";
  
  const shadow = document.createElement("div");
  shadow.className = "book-shadow";
  book.appendChild(shadow);
  
  const title = document.createElement("span");
  title.className = "book-title";
  title.textContent = data.title;
  book.appendChild(title);
  
  return book;
}

function filter(query) {
  const q = query.toLowerCase().trim();
  let total = 0;
  
  shelves.forEach(shelf => {
    let visible = 0;
    shelf.books.forEach(({ el, data }) => {
      const match = q === "" || data.title.toLowerCase().includes(q);
      el.classList.toggle("hidden", !match);
      if (match) visible++;
    });
    shelf.el.classList.toggle("visible", visible > 0);
    total += visible;
  });
  
  document.getElementById("noResults").classList.toggle("show", total === 0);
}

document.getElementById("search").oninput = e => filter(e.target.value);

buildShelves();
</script>

</body>
</html>